export function adaptService(serviceClass, bridge) {
    let instance = null;
    const serviceType = serviceClass.serviceType;
    return {
        id: `eliza:${serviceType}`,
        elizaServiceType: serviceType,
        async start(_ctx) {
            bridge.logger.info(`[eliza-adapter] Starting service: ${serviceType}`);
            instance = await serviceClass.start(bridge);
            bridge.injectService(serviceType, instance);
            if (serviceClass.registerSendHandlers)
                serviceClass.registerSendHandlers(bridge, instance);
            bridge.logger.info(`[eliza-adapter] Service started: ${serviceType}`);
        },
        async stop(_ctx) {
            bridge.logger.info(`[eliza-adapter] Stopping service: ${serviceType}`);
            if (instance)
                await instance.stop();
            if (serviceClass.stopRuntime)
                await serviceClass.stopRuntime(bridge);
            instance = null;
        },
    };
}
//# sourceMappingURL=service-adapter.js.map